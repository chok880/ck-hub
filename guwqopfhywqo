--// üî• Advanced Hack Hub UI + ESP/Hitbox + Ammo Infinite + No Recoil

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local Player = Players.LocalPlayer
local Global = require(ReplicatedStorage.Libraries.Global)

-- ==========================
-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå
-- ==========================
local ESP_Enabled = false
local Hitbox_Enabled = false
local Ammo_Enabled = false
local NoRecoil_Enabled = false
local HitboxSize = 50 -- ‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô

-- ==========================
-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Ammo + No Recoil
-- ==========================
local function applyGunConfig()
    for _, gunFolder in pairs(ReplicatedStorage.Weapons.Guns:GetChildren()) do
        for _, gun in pairs(gunFolder:GetChildren()) do
            if gun:FindFirstChild("Configuration") then
                local Config = require(gun.Configuration)
                if Ammo_Enabled then
                    Config.maxAmmo = math.huge
                end
                if NoRecoil_Enabled then
                    if Config.recoil then Config.recoil = 0 end
                    if Config.camKick then Config.camKick = 0 end
                    if Config.spread then Config.spread = 0 end
                    if Config.accuracy then Config.accuracy = 1 end
                end
            end
        end
    end
end

-- ==========================
-- ESP Wallhack + Hitbox
-- ==========================
local function addESP(character, teamColor)
    if not character:FindFirstChild("ESP_Highlight") then
        local highlight = Instance.new("Highlight")
        highlight.Name = "ESP_Highlight"
        highlight.FillTransparency = 0.5
        highlight.OutlineTransparency = 0
        highlight.Parent = character

        if teamColor == "Blue" then
            highlight.FillColor = Color3.fromRGB(0, 120, 255)
        elseif teamColor == "Red" then
            highlight.FillColor = Color3.fromRGB(255, 60, 60)
        else
            highlight.FillColor = Color3.fromRGB(255, 255, 255)
        end
    end

    -- BillboardGui ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠ + HP
    if not character:FindFirstChild("ESP_Billboard") then
        local hrp = character:FindFirstChild("HumanoidRootPart")
        local hum = character:FindFirstChildOfClass("Humanoid")
        if hrp and hum then
            local billboard = Instance.new("BillboardGui")
            billboard.Name = "ESP_Billboard"
            billboard.Size = UDim2.new(0,100,0,40)
            billboard.Adornee = hrp
            billboard.AlwaysOnTop = true
            billboard.Parent = character

            local textLabel = Instance.new("TextLabel")
            textLabel.Size = UDim2.new(1,0,1,0)
            textLabel.BackgroundTransparency = 1
            textLabel.TextColor3 = Color3.fromRGB(255,255,255)
            textLabel.TextScaled = true
            textLabel.Parent = billboard
        end
    end
end

local function removeESP(character)
    local esp = character:FindFirstChild("ESP_Highlight")
    if esp then esp:Destroy() end
    local billboard = character:FindFirstChild("ESP_Billboard")
    if billboard then billboard:Destroy() end
end

local function updateESP()
    for _, v in pairs(Players:GetPlayers()) do
        if v ~= Player and v.Character then
            local hrp = v.Character:FindFirstChild("HumanoidRootPart")
            local hum = v.Character:FindFirstChildOfClass("Humanoid")
            if hrp and hum then
                if hum.Health > 0 then
                    if Global.Teams[v] ~= Global.Teams[Player] then
                        -- ‚úÖ ESP Toggle
                        if ESP_Enabled then
                            addESP(v.Character, Global.Teams[v])
                            local billboard = v.Character:FindFirstChild("ESP_Billboard")
                            if billboard then
                                billboard.TextLabel.Text = v.Name.." | HP: "..math.floor(hum.Health)
                            end
                        else
                            removeESP(v.Character)
                        end
                        -- ‚úÖ Hitbox Toggle
                        if Hitbox_Enabled then
                            hrp.Size = Vector3.new(HitboxSize,HitboxSize,HitboxSize)
                            hrp.CanCollide = false
                            hrp.Transparency = 0.5
                        else
                            hrp.Size = Vector3.new(2,2,1)
                            hrp.Transparency = 1
                            hrp.CanCollide = true
                        end
                    else
                        removeESP(v.Character)
                        hrp.Size = Vector3.new(2,2,1)
                        hrp.Transparency = 1
                        hrp.CanCollide = true
                    end
                else
                    removeESP(v.Character)
                    hrp.Size = Vector3.new(2,2,1)
                    hrp.Transparency = 1
                    hrp.CanCollide = true
                end
            end
        end
    end
end
RunService.RenderStepped:Connect(updateESP) -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï ESP + Hitbox ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

-- ==========================
-- üé® ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á UI Hub
-- ==========================
local function createHub()
    if Player.PlayerGui:FindFirstChild("HackHubUI") then
        Player.PlayerGui.HackHubUI:Destroy()
    end

    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "HackHubUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = Player:WaitForChild("PlayerGui")

    -- ‡∏õ‡∏∏‡πà‡∏° C ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î
    local ToggleButton = Instance.new("TextButton", ScreenGui)
    ToggleButton.Size = UDim2.new(0,50,0,50)
    ToggleButton.Position = UDim2.new(0,10,0,10)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(30,30,30)
    ToggleButton.Text = "C"
    ToggleButton.TextColor3 = Color3.fromRGB(255,255,255)
    ToggleButton.TextScaled = true
    local toggleCorner = Instance.new("UICorner", ToggleButton)
    toggleCorner.CornerRadius = UDim.new(1,0)

    -- Hack Hub Frame
    local Frame = Instance.new("Frame", ScreenGui)
    Frame.Size = UDim2.new(0,250,0,280)
    Frame.Position = UDim2.new(0.35,0,0.3,0)
    Frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
    Frame.Active = true
    Frame.Draggable = true
    Frame.Visible = true

    local UICorner = Instance.new("UICorner", Frame)
    UICorner.CornerRadius = UDim.new(0,15)
    local UIStroke = Instance.new("UIStroke", Frame)
    UIStroke.Thickness = 2
    UIStroke.Color = Color3.fromRGB(80,80,80)

    local Title = Instance.new("TextLabel", Frame)
    Title.Size = UDim2.new(1,0,0,40)
    Title.BackgroundColor3 = Color3.fromRGB(40,40,40)
    Title.Text = "üî• Hack Hub"
    Title.TextColor3 = Color3.fromRGB(255,255,255)
    Title.TextScaled = true
    local TitleCorner = Instance.new("UICorner", Title)
    TitleCorner.CornerRadius = UDim.new(0,12)

    -- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏° Toggle
    local function createToggle(name, yPos, callback)
        local button = Instance.new("TextButton", Frame)
        button.Size = UDim2.new(1,-20,0,30)
        button.Position = UDim2.new(0,10,0,yPos)
        button.BackgroundColor3 = Color3.fromRGB(50,50,50)
        button.TextColor3 = Color3.fromRGB(255,255,255)
        button.TextScaled = true
        button.Text = name..": OFF"

        local corner = Instance.new("UICorner", button)
        corner.CornerRadius = UDim.new(0,8)
        local stroke = Instance.new("UIStroke", button)
        stroke.Thickness = 1
        stroke.Color = Color3.fromRGB(120,120,120)

        button.MouseEnter:Connect(function() button.BackgroundColor3 = Color3.fromRGB(70,70,70) end)
        button.MouseLeave:Connect(function() button.BackgroundColor3 = Color3.fromRGB(50,50,50) end)

        local state = false
        button.MouseButton1Click:Connect(function()
            state = not state
            button.Text = name..": "..(state and "ON" or "OFF")
            callback(state)
        end)
    end

    -- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á Slider ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Hitbox Size
    local function createSlider(name, yPos, min, max, default, callback)
        local label = Instance.new("TextLabel", Frame)
        label.Size = UDim2.new(1,-20,0,25)
        label.Position = UDim2.new(0,10,0,yPos)
        label.BackgroundTransparency = 1
        label.TextColor3 = Color3.fromRGB(255,255,255)
        label.TextScaled = true
        label.Text = name..": "..default

        local sliderFrame = Instance.new("Frame", Frame)
        sliderFrame.Size = UDim2.new(1,-20,0,20)
        sliderFrame.Position = UDim2.new(0,10,0,yPos+25)
        sliderFrame.BackgroundColor3 = Color3.fromRGB(60,60,60)
        local sliderCorner = Instance.new("UICorner", sliderFrame)
        sliderCorner.CornerRadius = UDim.new(0,6)

        local sliderButton = Instance.new("TextButton", sliderFrame)
        sliderButton.Size = UDim2.new(default/max,1,1,0)
        sliderButton.BackgroundColor3 = Color3.fromRGB(200,200,200)
        local sliderBtnCorner = Instance.new("UICorner", sliderButton)
        sliderBtnCorner.CornerRadius = UDim.new(0,6)

        sliderButton.Draggable = true
        sliderButton.MouseMoved:Connect(function(x, y)
            local relative = math.clamp(x - sliderFrame.AbsolutePosition.X,0,sliderFrame.AbsoluteSize.X)
            sliderButton.Size = UDim2.new(relative/sliderFrame.AbsoluteSize.X,0,1,0)
            local value = math.floor(min + (relative/sliderFrame.AbsoluteSize.X)*(max-min))
            label.Text = name..": "..value
            callback(value)
        end)
    end

    -- ‡∏õ‡∏∏‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå
    createToggle("ESP", 50, function(val) ESP_Enabled = val end)
    createToggle("Hitbox", 90, function(val) Hitbox_Enabled = val end)
    createToggle("Ammo Infinite", 130, function(val) Ammo_Enabled = val applyGunConfig() end)
    createToggle("No Recoil", 170, function(val) NoRecoil_Enabled = val applyGunConfig() end)

    -- Slider Hitbox Size
    createSlider("Hitbox Size", 210, 10, 100, HitboxSize, function(val) HitboxSize = val end)

    -- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° C ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏ô/‡πÄ‡∏õ‡∏¥‡∏î Hack Hub
    ToggleButton.MouseButton1Click:Connect(function()
        Frame.Visible = not Frame.Visible
    end)
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á UI ‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å
createHub()

-- ‡∏Å‡∏±‡∏ô UI ‡∏´‡∏≤‡∏¢‡πÄ‡∏ß‡∏•‡∏≤ Respawn
Player.CharacterAdded:Connect(function()
    task.wait(1)
    createHub()
end)
